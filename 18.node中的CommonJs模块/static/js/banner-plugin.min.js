"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,i,e){return i&&t(n.prototype,i),e&&t(n,e),n}}();~function(){var t=function(){function t(n){var i=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,t),this.initialParams(e),!n)throw new ReferenceError("The first selector parameter must be passed~~");if("string"==typeof n?this.container=document.querySelector(n):n.nodeType&&(this.container=n),this.wrapper=this.container.querySelector(".wrapper"),this.slideList=this.wrapper.querySelectorAll(".slide"),this.timer=null,this.activeIndex=this.initalSlide,this.count=this.slideList.length,[].forEach.call(this.slideList,function(t,n){if(n===i.initalSlide)return t.style.zIndex=1,void(t.style.opacity=1);t.style.zIndex=0,t.style.opacity=0}),this.autoplay){var a=function(){return i.autoMove()};this.timer=setInterval(a,this.autoplay),this.container.addEventListener("mouseenter",function(){clearInterval(i.timer),i.timer=null}),this.container.addEventListener("mouseleave",function(){i.timer=setInterval(a,i.autoplay)})}this.pagination&&this.pagination.el&&this.handlePagination(),this.navigation&&this.handleButton(),this.on&&this.on.init&&this.on.init.call(this,this)}return _createClass(t,[{key:"initialParams",value:function(t){var n={initalSlide:0,spped:300,autoplay:3e3,pagination:{el:".pagination",triggerEvent:"click"},navigation:{nextEl:".button-next",prevEl:".button-prev",hide:!0},on:{init:function(t){},transitionStart:function(t){},transitionEnd:function(t){}}};for(var i in t)/^(pagination|navigation|on)$/i.test(i)||t.hasOwnProperty(i)&&(n[i]=t[i]);var e=null===t.pagination?n.pagination=null:t.pagination||{};for(var a in e)e.hasOwnProperty(a)&&(n.pagination[a]=e[a]);var o=null===t.navigation?n.navigation=null:t.navigation||{};for(var r in o)o.hasOwnProperty(r)&&(n.navigation[r]=o[r]);var s=null===t.on?n.on=null:t.on||{};for(var l in s)s.hasOwnProperty(l)&&(n.on[l]=s[l]);for(var c in n)n.hasOwnProperty(c)&&(this[c]=n[c])}},{key:"change",value:function(){var t=this,n=Array.from(this.slideList);n.forEach(function(n,i){if(i===t.activeIndex)return n.style.transition="opacity "+t.spped+"ms",void(n.style.zIndex=1);n.style.zIndex=0,n.style.transition="opacity 0ms"}),this.on&&this.on.transitionStart&&this.on.transitionStart.call(this,this);var i=n[this.activeIndex];i.style.opacity=1;var e=function(){n.forEach(function(n,i){i!==t.activeIndex&&(n.style.opacity=0)}),t.on&&t.on.transitionEnd&&t.on.transitionEnd.call(t,t)};i.addEventListener("transitionend",e()),i.removeEventListener("transitionend",e),this.paginationList&&[].forEach.call(this.paginationList,function(n,i){if(i===t.activeIndex)return void(n.className="active");n.className=""})}},{key:"autoMove",value:function(){this.activeIndex++,this.activeIndex>=this.count&&(this.activeIndex=0),this.change()}},{key:"handlePagination",value:function(){var n=this;this.paginationBox=this.container.querySelector(this.pagination.el);for(var i="",e=0;e<this.count;e++)i+='<span class="'+(e===this.activeIndex?"active":"")+' "></span>';this.paginationBox.innerHTML=i,this.paginationList=this.paginationBox.querySelectorAll("span"),this.pagination.triggerEvent&&[].forEach.call(this.paginationList,function(i,e){i.addEventListener(n.pagination.triggerEvent,t.throttle(function(){n.activeIndex=e,n.change()},500))})}},{key:"handleButton",value:function(){var n=this;this.prevEl=this.container.querySelector(this.navigation.prevEl),this.prevEl.addEventListener("click",t.throttle(function(){n.activeIndex--,n.activeIndex<=0&&(n.activeIndex=n.count-1),n.change()},500)),this.nextEl=this.container.querySelector(this.navigation.nextEl),this.nextEl.addEventListener("click",t.throttle(this.autoMove.bind(this),500)),this.navigation.hide&&(this.prevEl.style.display="none",this.nextEl.style.display="none",this.container.addEventListener("mouseenter",function(){n.prevEl.style.display="block",n.nextEl.style.display="block"}),this.container.addEventListener("mouseleave",function(){n.prevEl.style.display="none",n.nextEl.style.display="none"}))}}],[{key:"throttle",value:function(t,n){var i=null,e=null,a=0;return function(){for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];var l=new Date,c=this,h=n-(l-a);return h<=0?(clearTimeout(e),a=l,e=null,i=t.apply(c,r)):e||(e=setTimeout(function(){a=new Date,e=null,i=t.apply(c,r)},h)),i}}}]),t}();window.Banner=t}();